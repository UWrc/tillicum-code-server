---
cluster: "tillicum"

attributes:
  num_gpus:
    widget: "number_field"
    label: "Number of GPUs"
    required: true
    min: 1
    max: 8
    step: 1
    value: 1
    display: true
  bc_num_hours:
    value: 1
    display: true
  sif:
    label: VS Code Server Container
    widget: select
    help: Select 'Custom' if you have created your own code-server Apptainer image.
    options:
    - [
        "linuxserver/code-server",
        "/gpfs/containers/code-server/code-server_4.105.1.sif",
        data-hide-custom-sif: true
      ]
    - [ "Custom", "" ]
    value: "Default"
  custom_sif:
    label: Full path to your customized code-server Apptainer image.
    help: "e.g. /gpfs/gscratch/labname/containers/code-server.sif"
  working_dir:
    label: "Working Directory"
    data-filepicker: true
    data-target-file-type: dirs
    readonly: false
    help: |
      Project's root folder. Defaults to $HOME if left empty.
  data_dir:
    label: "Data/Extensions Directory"
    data-filepicker: true
    data-target-file-type: dirs
    readonly: false
    help: |
      Alternate storage location for your workspace extensions and data. Defaults to $HOME if left empty.
  enable_code_server_args:
    label: Modify code-server command-line options?
    widget: "check_box"
    html_options:
      data:
        hide-extra-code-server-args-when-unchecked: true
  extra_code_server_args:
    label: code-server command-line options
    widget: "text_field"
    help: Additional arguments for code-server command, e.g. "code-server --custom-options"
  enable_slurm_args:
    label: Modify Slurm command-line options?
    widget: "check_box"
    html_options:
      data:
        hide-extra-slurm-args-when-unchecked: true
  extra_slurm_args:
    label: Slurm command-line options
    widget: "text_field"
    help: Additional arguments for Slurm command, e.g. "sbatch --custom-options"

form:
  - auto_accounts
  - auto_qos
  - num_gpus
  - bc_num_hours
  - sif
  - custom_sif
  - working_dir
  - data_dir
  - enable_code_server_args
  - extra_code_server_args
  - enable_slurm_args
  - extra_slurm_args
